###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         25/Aug/2018  23:10:05 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  F:\work\iot-hardware\logger\logger\Components\mt\M #
#                          T.c                                                #
#    Command line       =  -f F:\work\iot-hardware\logger\logger\Projects\zst #
#                          ack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2 #
#                          530DB\f8wEndev.cfg (-DCPU32MHZ -DROOT=__near_func  #
#                          -DMAC_CFG_TX_DATA_MAX=3 -DMAC_CFG_TX_MAX=6         #
#                          -DMAC_CFG_RX_MAX=3) -f F:\work\iot-hardware\logger #
#                          \logger\Projects\zstack\Samples\GenericApp\CC2530D #
#                          B\..\..\..\Tools\CC2530DB\f8wConfig.cfg            #
#                          (-DZIGBEEPRO -DSECURE=0 -DZG_SECURE_DYNAMIC=0      #
#                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800          #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 F:\work\iot-hardware\logger #
#                          \logger\Components\mt\MT.c -D NWK_AUTO_POLL -D     #
#                          ZTOOL_P1 -D MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC  #
#                          -D LCD_SUPPORTED=DEBUG -D xPOWER_SAVING -lC        #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\EndDeviceEB\List\     #
#                          -lA F:\work\iot-hardware\logger\logger\Projects\zs #
#                          tack\Samples\GenericApp\CC2530DB\EndDeviceEB\List\ #
#                           --diag_suppress Pe001,Pa010 -o                    #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\EndDeviceEB\Obj\ -e   #
#                          --no_cse --no_unroll --no_inline --no_code_motion  #
#                          --no_tbaa --debug --core=plain --dptr=16,1         #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I F:\work\iot-hardware\logger\logger\Projects\zst #
#                          ack\Samples\GenericApp\CC2530DB\ -I                #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\Source\ -I         #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\ZMain\TI2530 #
#                          DB\ -I F:\work\iot-hardware\logger\logger\Projects #
#                          \zstack\Samples\GenericApp\CC2530DB\..\..\..\..\.. #
#                          \Components\hal\include\ -I                        #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\hal\target\CC2530EB\ -I                       #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\mac\include\ -I F:\work\iot-hardware\logger\l #
#                          ogger\Projects\zstack\Samples\GenericApp\CC2530DB\ #
#                          ..\..\..\..\..\Components\mac\high_level\ -I       #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\mac\low_level\srf04\ -I                       #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\mac\low_level\srf04\single_chip\ -I           #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\mt\ -I F:\work\iot-hardware\logger\logger\Pro #
#                          jects\zstack\Samples\GenericApp\CC2530DB\..\..\..\ #
#                          ..\..\Components\osal\include\ -I                  #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\services\saddr\ -I F:\work\iot-hardware\logge #
#                          r\logger\Projects\zstack\Samples\GenericApp\CC2530 #
#                          DB\..\..\..\..\..\Components\services\sdata\ -I    #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\stack\af\ -I F:\work\iot-hardware\logger\logg #
#                          er\Projects\zstack\Samples\GenericApp\CC2530DB\..\ #
#                          ..\..\..\..\Components\stack\nwk\ -I               #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\stack\sapi\ -I F:\work\iot-hardware\logger\lo #
#                          gger\Projects\zstack\Samples\GenericApp\CC2530DB\. #
#                          .\..\..\..\..\Components\stack\sec\ -I             #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\stack\sys\ -I F:\work\iot-hardware\logger\log #
#                          ger\Projects\zstack\Samples\GenericApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\zdo\ -I              #
#                          F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\Compon #
#                          ents\zmac\ -I F:\work\iot-hardware\logger\logger\P #
#                          rojects\zstack\Samples\GenericApp\CC2530DB\..\..\. #
#                          .\..\..\Components\zmac\f8w\ -Ol                   #
#                          --require_prototypes                               #
#    List file          =  F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\EndDeviceEB\List\MT.l #
#                          st                                                 #
#    Object file        =  F:\work\iot-hardware\logger\logger\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\EndDeviceEB\Obj\MT.r5 #
#                          1                                                  #
#                                                                             #
#                                                                             #
###############################################################################

F:\work\iot-hardware\logger\logger\Components\mt\MT.c
      1          /***************************************************************************************************
      2            Filename:       MT.c
      3            Revised:        $Date: 2011-06-07 12:12:44 -0700 (Tue, 07 Jun 2011) $
      4            Revision:       $Revision: 26238 $
      5          
      6            Description:    MonitorTest Event Loop functions.
      7                            Everything in the MonitorTest Task (except the serial driver).
      8          
      9          
     10            Copyright 2007-2011 Texas Instruments Incorporated. All rights reserved.
     11          
     12            IMPORTANT: Your use of this Software is limited to those specific rights
     13            granted under the terms of a software license agreement between the user
     14            who downloaded the software, his/her employer (which must be your employer)
     15            and Texas Instruments Incorporated (the "License").  You may not use this
     16            Software unless you agree to abide by the terms of the License. The License
     17            limits your use, and you acknowledge, that the Software may not be modified,
     18            copied or distributed unless embedded on a Texas Instruments microcontroller
     19            or used solely and exclusively in conjunction with a Texas Instruments radio
     20            frequency transceiver, which is integrated into your product.  Other than for
     21            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     22            works of, modify, distribute, perform, display or sell this Software and/or
     23            its documentation for any purpose.
     24          
     25            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     26            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     27            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     28            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     29            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     30            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     31            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     32            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     33            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     34            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     35            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     36          
     37            Should you have any questions regarding your right to use this Software,
     38            contact Texas Instruments Incorporated at www.TI.com.
     39          
     40           **************************************************************************************************/
     41          
     42          /**************************************************************************************************
     43           * INCLUDES
     44           **************************************************************************************************/
     45          
     46          #include "ZComDef.h"
     47          #include "MT.h"
     48          #include "MT_APP.h"
     49          #include "MT_DEBUG.h"
     50          #include "MT_UTIL.h"
     51          #include "MT_SYS.h"
     52          
     53          #include "OnBoard.h"
     54          #include "OSAL.h"
     55          #include "OSAL_Memory.h"
     56          #include "OSAL_Nv.h"
     57          
     58          #include "DebugTrace.h"
     59          #include "ZMAC.h"
     60          
     61          #if !defined ( NONWK )
     62            #include "NLMEDE.h"
     63            #include "nwk_bufs.h"
     64            #include "ZDObject.h"
     65            #include "ssp.h"
     66            #include "nwk_util.h"
     67            #include "AF.h"
     68            #include "MT_SAPI.h"
     69          #endif
     70          
     71          #if defined( MT_MAC_FUNC ) || defined( MT_MAC_CB_FUNC )
     72            #include "MT_MAC.h"
     73          #endif
     74          #if defined( MT_NWK_FUNC ) || defined( MT_NWK_CB_FUNC )
     75            #include "MT_NWK.h"
     76            #include "nwk.h"
     77            #include "nwk_bufs.h"
     78          #endif
     79          #if defined( MT_AF_FUNC ) || defined( MT_AF_CB_FUNC )
     80            #include "MT_AF.h"
     81          #endif
     82          #if defined( MT_USER_TEST_FUNC )
     83            #include "AF.h"
     84          #endif
     85          #if defined( MT_ZDO_FUNC )
     86            #include "MT_ZDO.h"
     87          #endif
     88          #if defined (MT_SAPI_FUNC)
     89          	#include "MT_SAPI.h"
     90          #endif
     91          #if defined (MT_OTA_FUNC)
     92            #include "MT_OTA.h"
     93          #endif
     94          
     95          #if defined( APP_TP )
     96           #include "TestProfile.h"
     97          #endif
     98          #if defined( APP_TP2 )
     99           #include "TestProfile2.h"
    100          #endif
    101          
    102          #if defined(APP_TGEN)
    103            #include "TrafficGenApp.h"
    104          #endif
    105          #if defined(APP_DEBUG)
    106          	#include "DebugApp.h"
    107          #endif
    108          #if defined (NWK_TEST)
    109          	#include "HWTTApp.h"
    110          #endif
    111          
    112          /* HAL */
    113          #include "hal_uart.h"
    114          #include "hal_led.h"
    115          #include "hal_key.h"
    116          #include "MT_UART.h"
    117          
    118          /**************************************************************************************************
    119           * CONSTANTS
    120           **************************************************************************************************/
    121          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    122          mtProcessMsg_t mtProcessIncoming[] =
   \                     mtProcessIncoming:
   \   000000                DS 22
   \   000016                REQUIRE `?<Initializer for mtProcessIncoming>`
   \   000016                REQUIRE __INIT_XDATA_I
    123          {
    124            NULL,
    125          
    126          #if defined (MT_SYS_FUNC)
    127            MT_SysCommandProcessing,
    128          #else
    129            NULL,
    130          #endif
    131          
    132          #if defined (MT_MAC_FUNC)
    133            MT_MacCommandProcessing,
    134          #else
    135            NULL,
    136          #endif
    137          
    138          #if defined (MT_NWK_FUNC)
    139            MT_NwkCommandProcessing,
    140          #else
    141            NULL,
    142          #endif
    143          
    144          #if defined (MT_AF_FUNC)
    145            MT_AfCommandProcessing,
    146          #else
    147            NULL,
    148          #endif
    149          
    150          #if defined (MT_ZDO_FUNC)
    151            MT_ZdoCommandProcessing,
    152          #else
    153            NULL,
    154          #endif
    155          
    156          #if defined (MT_SAPI_FUNC)
    157            MT_SapiCommandProcessing,
    158          #else
    159            NULL,
    160          #endif
    161          
    162          #if defined (MT_UTIL_FUNC)
    163            MT_UtilCommandProcessing,
    164          #else
    165            NULL,
    166          #endif
    167          
    168          #if defined (MT_DEBUG_FUNC)
    169            MT_DebugCommandProcessing,
    170          #else
    171            NULL,
    172          #endif
    173          
    174          #if defined (MT_APP_FUNC)
    175            MT_AppCommandProcessing,
    176          #else
    177            NULL,
    178          #endif
    179          
    180          #if defined (MT_OTA_FUNC)
    181            MT_OtaCommandProcessing,
    182          #else
    183            NULL,
    184          #endif
    185          };
    186          
    187          /**************************************************************************************************
    188           * GLOBAL VARIABLES
    189           **************************************************************************************************/
    190          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    191          byte debugThreshold;
   \                     debugThreshold:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    192          byte debugCompId;
   \                     debugCompId:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    193          
    194          /**************************************************************************************************
    195           * LOCAL FUNCTIONS
    196           **************************************************************************************************/
    197          
    198          void MT_MsgQueueInit( void );
    199          void MT_ResetMsgQueue( void );
    200          byte MT_QueueMsg( byte *msg , byte len );
    201          void MT_ProcessQueue( void );
    202          
    203          #if defined ( MT_USER_TEST_FUNC )
    204          void MT_ProcessAppUserCmd( byte *pData );
    205          #endif
    206          
    207          /**************************************************************************************************
    208           * @fn         MT_Init
    209           *
    210           * @brief      This function is the secondary initialization that resolves conflicts during
    211           *             osalInitTasks(). For example, since MT is the highest priority task, and
    212           *             specifically because the MT task is initialized before the ZDApp task, if MT_Init()
    213           *             registers anything with ZDO_RegisterForZdoCB(), it is wiped out when ZDApp task
    214           *             initialization invokes ZDApp_InitZdoCBFunc().
    215           *             There may be other existing or future such races, so try to do all possible
    216           *             MT initialization here vice in MT_TaskInit().
    217           *
    218           * input parameters
    219           *
    220           * None.
    221           *
    222           * output parameters
    223           *
    224           * None.
    225           *
    226           * @return      None.
    227           **************************************************************************************************
    228           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    229          void MT_Init(void)
   \                     MT_Init:
    230          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    231          #if defined (MT_ZDO_FUNC)
    232            MT_ZdoInit();
   \   000004                ; Setup parameters for call to function MT_ZdoInit
   \   000004   12....       LCALL   ??MT_ZdoInit?relay
    233          #endif
    234            MT_SysResetInd();
   \   000007                ; Setup parameters for call to function MT_SysResetInd
   \   000007   12....       LCALL   ??MT_SysResetInd?relay
    235          }
   \   00000A   D083         POP     DPH
   \   00000C   D082         POP     DPL
   \   00000E   02....       LJMP    ?BRET
    236          
    237          /***************************************************************************************************
    238           * @fn      MT_BuildSPIMsg
    239           *
    240           * @brief
    241           *
    242           *   Format an SPI message.
    243           *
    244           * @param   UINT16 cmd - command id
    245           * @param   byte *msg - pointer to message buffer
    246           * @param   byte dataLen - length of data field
    247           * @param   byte *pData - pointer to data field
    248           *
    249           * @return  void
    250           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    251          void MT_BuildSPIMsg( uint8 cmdType, uint8 cmdId, byte *msg, byte dataLen, byte *pData )
   \                     MT_BuildSPIMsg:
    252          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 2,R1
   \   000007   8A..         MOV     ?V0 + 3,R2
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
   \   00000D   8B..         MOV     ?V0 + 7,R3
   \   00000F   7410         MOV     A,#0x10
   \   000011   12....       LCALL   ?XSTACK_DISP0_8
   \   000014   E0           MOVX    A,@DPTR
   \   000015   F5..         MOV     ?V0 + 0,A
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   F5..         MOV     ?V0 + 1,A
    253            /* Fill in the CMD and Data Length */
    254            *msg++ = dataLen;
   \   00001B   E5..         MOV     A,?V0 + 7
   \   00001D   8E82         MOV     DPL,R6
   \   00001F   8F83         MOV     DPH,R7
   \   000021   E5..         MOV     A,?V0 + 7
   \   000023   F0           MOVX    @DPTR,A
   \   000024   8E82         MOV     DPL,R6
   \   000026   8F83         MOV     DPH,R7
   \   000028   A3           INC     DPTR
   \   000029   AE82         MOV     R6,DPL
   \   00002B   AF83         MOV     R7,DPH
    255            *msg++ = cmdType;
   \   00002D   E5..         MOV     A,?V0 + 2
   \   00002F   8E82         MOV     DPL,R6
   \   000031   8F83         MOV     DPH,R7
   \   000033   E5..         MOV     A,?V0 + 2
   \   000035   F0           MOVX    @DPTR,A
   \   000036   8E82         MOV     DPL,R6
   \   000038   8F83         MOV     DPH,R7
   \   00003A   A3           INC     DPTR
   \   00003B   AE82         MOV     R6,DPL
   \   00003D   AF83         MOV     R7,DPH
    256            *msg++ = cmdId;
   \   00003F   E5..         MOV     A,?V0 + 3
   \   000041   8E82         MOV     DPL,R6
   \   000043   8F83         MOV     DPH,R7
   \   000045   E5..         MOV     A,?V0 + 3
   \   000047   F0           MOVX    @DPTR,A
   \   000048   8E82         MOV     DPL,R6
   \   00004A   8F83         MOV     DPH,R7
   \   00004C   A3           INC     DPTR
   \   00004D   AE82         MOV     R6,DPL
   \   00004F   AF83         MOV     R7,DPH
    257          
    258            /* Fill in the data */
    259            if ( pData )
   \   000051   E5..         MOV     A,?V0 + 0
   \   000053   45..         ORL     A,?V0 + 1
   \   000055   6024         JZ      ??MT_BuildSPIMsg_0
    260            {
    261              osal_memcpy( msg, pData, dataLen );
   \   000057                ; Setup parameters for call to function osal_memcpy
   \   000057   85....       MOV     ?V0 + 4,?V0 + 0
   \   00005A   85....       MOV     ?V0 + 5,?V0 + 1
   \   00005D   75..00       MOV     ?V0 + 6,#0x0
   \   000060   78..         MOV     R0,#?V0 + 4
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000065   85....       MOV     ?V0 + 0,?V0 + 7
   \   000068   75..00       MOV     ?V0 + 1,#0x0
   \   00006B   AC..         MOV     R4,?V0 + 0
   \   00006D   AD..         MOV     R5,?V0 + 1
   \   00006F   EE           MOV     A,R6
   \   000070   FA           MOV     R2,A
   \   000071   EF           MOV     A,R7
   \   000072   FB           MOV     R3,A
   \   000073   12....       LCALL   ??osal_memcpy?relay
   \   000076   7403         MOV     A,#0x3
   \   000078   12....       LCALL   ?DEALLOC_XSTACK8
    262            }
    263          }
   \                     ??MT_BuildSPIMsg_0:
   \   00007B   7F08         MOV     R7,#0x8
   \   00007D   02....       LJMP    ?BANKED_LEAVE_XDATA
    264          
    265          /***************************************************************************************************
    266           * @fn      MT_BuildAndSendZToolResponse
    267           *
    268           * @brief   Build and send a ZTOOL msg
    269           * @param   uint8 cmdType - include type and subsystem
    270           *          uint8 cmdId - command ID
    271           *          byte dataLen
    272           *          byte *pData
    273           *
    274           * @return  void
    275           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    276          void MT_BuildAndSendZToolResponse(uint8 cmdType, uint8 cmdId, uint8 dataLen, uint8 *pData)
   \                     MT_BuildAndSendZToolResponse:
    277          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 1,R1
   \   000007   8A..         MOV     ?V0 + 4,R2
   \   000009   8B..         MOV     ?V0 + 0,R3
   \   00000B   8C..         MOV     ?V0 + 2,R4
   \   00000D   8D..         MOV     ?V0 + 3,R5
    278            uint8 *msg_ptr;
    279          
    280            /* Allocate memory including SOP and FCS */
    281            msg_ptr = MT_TransportAlloc((mtRpcCmdType_t)(cmdType & 0xE0), dataLen);
   \   00000F                ; Setup parameters for call to function MT_TransportAlloc
   \   00000F   AA..         MOV     R2,?V0 + 0
   \   000011   74E0         MOV     A,#-0x20
   \   000013   55..         ANL     A,?V0 + 1
   \   000015   F9           MOV     R1,A
   \   000016   12....       LCALL   ??MT_TransportAlloc?relay
   \   000019   8A..         MOV     ?V0 + 6,R2
   \   00001B   8B..         MOV     ?V0 + 7,R3
   \   00001D   AE..         MOV     R6,?V0 + 6
   \   00001F   AF..         MOV     R7,?V0 + 7
    282          
    283            if (msg_ptr)
   \   000021   EE           MOV     A,R6
   \   000022   4F           ORL     A,R7
   \   000023   601E         JZ      ??MT_BuildAndSendZToolResponse_0
    284            {
    285              /* Build the message */
    286              MT_BuildSPIMsg(cmdType, cmdId, msg_ptr, dataLen, pData);
   \   000025                ; Setup parameters for call to function MT_BuildSPIMsg
   \   000025   78..         MOV     R0,#?V0 + 2
   \   000027   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002A   AB..         MOV     R3,?V0 + 0
   \   00002C   EE           MOV     A,R6
   \   00002D   FC           MOV     R4,A
   \   00002E   EF           MOV     A,R7
   \   00002F   FD           MOV     R5,A
   \   000030   AA..         MOV     R2,?V0 + 4
   \   000032   A9..         MOV     R1,?V0 + 1
   \   000034   12....       LCALL   ??MT_BuildSPIMsg?relay
   \   000037   7402         MOV     A,#0x2
   \   000039   12....       LCALL   ?DEALLOC_XSTACK8
    287              /* Send out the msg */
    288              MT_TransportSend(msg_ptr);
   \   00003C                ; Setup parameters for call to function MT_TransportSend
   \   00003C   EE           MOV     A,R6
   \   00003D   FA           MOV     R2,A
   \   00003E   EF           MOV     A,R7
   \   00003F   FB           MOV     R3,A
   \   000040   12....       LCALL   ??MT_TransportSend?relay
    289            }
    290          }
   \                     ??MT_BuildAndSendZToolResponse_0:
   \   000043   7F08         MOV     R7,#0x8
   \   000045   02....       LJMP    ?BANKED_LEAVE_XDATA
    291          
    292          /***************************************************************************************************
    293           * @fn      MT_ProcessIncoming
    294           *
    295           * @brief  Process Incoming Message.
    296           *
    297           * @param   byte *pBuf - pointer to event message
    298           *
    299           * @return  void
    300           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    301          void MT_ProcessIncoming(uint8 *pBuf)
   \                     MT_ProcessIncoming:
    302          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 3
   \   000004   74FD         MOV     A,#-0x3
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    303            mtProcessMsg_t func;
    304            uint8 rsp[MT_RPC_FRAME_HDR_SZ];
    305          
    306            /* pre-build response message:  | status | cmd0 | cmd1 | */
    307            rsp[1] = pBuf[MT_RPC_POS_CMD0];
   \   000009   8A82         MOV     DPL,R2
   \   00000B   8B83         MOV     DPH,R3
   \   00000D   A3           INC     DPTR
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   C0E0         PUSH    A
   \   000011   7401         MOV     A,#0x1
   \   000013   12....       LCALL   ?XSTACK_DISP0_8
   \   000016   D0E0         POP     A
   \   000018   F0           MOVX    @DPTR,A
    308            rsp[2] = pBuf[MT_RPC_POS_CMD1];
   \   000019   8A82         MOV     DPL,R2
   \   00001B   8B83         MOV     DPH,R3
   \   00001D   A3           INC     DPTR
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   C0E0         PUSH    A
   \   000022   7402         MOV     A,#0x2
   \   000024   12....       LCALL   ?XSTACK_DISP0_8
   \   000027   D0E0         POP     A
   \   000029   F0           MOVX    @DPTR,A
    309          
    310            /* check length */
    311            if (pBuf[MT_RPC_POS_LEN] > MT_RPC_DATA_MAX)
   \   00002A   8A82         MOV     DPL,R2
   \   00002C   8B83         MOV     DPH,R3
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   C3           CLR     C
   \   000030   94FB         SUBB    A,#-0x5
   \   000032   400B         JC      ??MT_ProcessIncoming_0
    312            {
    313              rsp[0] = MT_RPC_ERR_LENGTH;
   \   000034   85..82       MOV     DPL,?XSP + 0
   \   000037   85..83       MOV     DPH,?XSP + 1
   \   00003A   7404         MOV     A,#0x4
   \   00003C   F0           MOVX    @DPTR,A
   \   00003D   806C         SJMP    ??MT_ProcessIncoming_1
    314            }
    315            /* check subsystem range */
    316            else if ((rsp[1] & MT_RPC_SUBSYSTEM_MASK) < MT_RPC_SYS_MAX)
   \                     ??MT_ProcessIncoming_0:
   \   00003F   7401         MOV     A,#0x1
   \   000041   12....       LCALL   ?XSTACK_DISP0_8
   \   000044   E0           MOVX    A,@DPTR
   \   000045   541F         ANL     A,#0x1f
   \   000047   C3           CLR     C
   \   000048   940B         SUBB    A,#0xb
   \   00004A   5056         JNC     ??MT_ProcessIncoming_2
    317            {
    318              /* look up processing function */
    319              func = mtProcessIncoming[rsp[1] & MT_RPC_SUBSYSTEM_MASK];
   \   00004C   7401         MOV     A,#0x1
   \   00004E   12....       LCALL   ?XSTACK_DISP0_8
   \   000051   E0           MOVX    A,@DPTR
   \   000052   F8           MOV     R0,A
   \   000053   7900         MOV     R1,#0x0
   \   000055   541F         ANL     A,#0x1f
   \   000057   F8           MOV     R0,A
   \   000058   E9           MOV     A,R1
   \   000059   5400         ANL     A,#0x0
   \   00005B   F9           MOV     R1,A
   \   00005C   E8           MOV     A,R0
   \   00005D   75F002       MOV     B,#0x2
   \   000060   A4           MUL     AB
   \   000061   C8           XCH     A,R0
   \   000062   ACF0         MOV     R4,B
   \   000064   75F000       MOV     B,#0x0
   \   000067   A4           MUL     AB
   \   000068   2C           ADD     A,R4
   \   000069   FC           MOV     R4,A
   \   00006A   75F002       MOV     B,#0x2
   \   00006D   E9           MOV     A,R1
   \   00006E   A4           MUL     AB
   \   00006F   2C           ADD     A,R4
   \   000070   F9           MOV     R1,A
   \   000071   74..         MOV     A,#mtProcessIncoming & 0xff
   \   000073   28           ADD     A,R0
   \   000074   F582         MOV     DPL,A
   \   000076   74..         MOV     A,#(mtProcessIncoming >> 8) & 0xff
   \   000078   39           ADDC    A,R1
   \   000079   F583         MOV     DPH,A
   \   00007B   E0           MOVX    A,@DPTR
   \   00007C   F8           MOV     R0,A
   \   00007D   A3           INC     DPTR
   \   00007E   E0           MOVX    A,@DPTR
   \   00007F   F9           MOV     R1,A
   \   000080   8882         MOV     DPL,R0
   \   000082   8983         MOV     DPH,R1
    320              if (func)
   \   000084   E582         MOV     A,DPL
   \   000086   4583         ORL     A,DPH
   \   000088   600D         JZ      ??MT_ProcessIncoming_3
    321              {
    322                /* execute processing function */
    323                rsp[0] = (*func)(pBuf);
   \   00008A                ; Setup parameters for indirect call
   \   00008A   12....       LCALL   ?CALL_IND
   \   00008D   E9           MOV     A,R1
   \   00008E   85..82       MOV     DPL,?XSP + 0
   \   000091   85..83       MOV     DPH,?XSP + 1
   \   000094   F0           MOVX    @DPTR,A
   \   000095   8014         SJMP    ??MT_ProcessIncoming_1
    324              }
    325              else
    326              {
    327                rsp[0] = MT_RPC_ERR_SUBSYSTEM;
   \                     ??MT_ProcessIncoming_3:
   \   000097   85..82       MOV     DPL,?XSP + 0
   \   00009A   85..83       MOV     DPH,?XSP + 1
   \   00009D   7401         MOV     A,#0x1
   \   00009F   F0           MOVX    @DPTR,A
   \   0000A0   8009         SJMP    ??MT_ProcessIncoming_1
    328              }
    329            }
    330            else
    331            {
    332              rsp[0] = MT_RPC_ERR_SUBSYSTEM;
   \                     ??MT_ProcessIncoming_2:
   \   0000A2   85..82       MOV     DPL,?XSP + 0
   \   0000A5   85..83       MOV     DPH,?XSP + 1
   \   0000A8   7401         MOV     A,#0x1
   \   0000AA   F0           MOVX    @DPTR,A
    333            }
    334          
    335            /* if error and this was an SREQ, send error message */
    336            if ((rsp[0] != MT_RPC_SUCCESS) && ((rsp[1] & MT_RPC_CMD_TYPE_MASK) == MT_RPC_CMD_SREQ))
   \                     ??MT_ProcessIncoming_1:
   \   0000AB   85..82       MOV     DPL,?XSP + 0
   \   0000AE   85..83       MOV     DPH,?XSP + 1
   \   0000B1   E0           MOVX    A,@DPTR
   \   0000B2   601F         JZ      ??MT_ProcessIncoming_4
   \   0000B4   7401         MOV     A,#0x1
   \   0000B6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B9   E0           MOVX    A,@DPTR
   \   0000BA   54E0         ANL     A,#0xe0
   \   0000BC   6420         XRL     A,#0x20
   \   0000BE   7013         JNZ     ??MT_ProcessIncoming_4
    337            {
    338              MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_RES0), 0,
    339                                                                            MT_RPC_FRAME_HDR_SZ, rsp);
   \   0000C0                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   0000C0   85..82       MOV     DPL,?XSP + 0
   \   0000C3   85..83       MOV     DPH,?XSP + 1
   \   0000C6   AC82         MOV     R4,DPL
   \   0000C8   AD83         MOV     R5,DPH
   \   0000CA   7B03         MOV     R3,#0x3
   \   0000CC   7A00         MOV     R2,#0x0
   \   0000CE   7960         MOV     R1,#0x60
   \   0000D0   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    340            }
    341          }
   \                     ??MT_ProcessIncoming_4:
   \   0000D3   7403         MOV     A,#0x3
   \   0000D5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000D8   D083         POP     DPH
   \   0000DA   D082         POP     DPL
   \   0000DC   02....       LJMP    ?BRET
    342          
    343          /***************************************************************************************************
    344           * @fn      MTProcessAppRspMsg
    345           *
    346           * @brief   Process the User App Response Message
    347           *
    348           * @param   data - output serial buffer.  The first byte must be the
    349           *          endpoint that send this message.
    350           * @param   len - data length
    351           *
    352           * @return  none
    353           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    354          void MTProcessAppRspMsg( byte *pData, byte len )
   \                     MTProcessAppRspMsg:
    355          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FC           MOV     R4,A
   \   000007   EB           MOV     A,R3
   \   000008   FD           MOV     R5,A
   \   000009   E9           MOV     A,R1
   \   00000A   FE           MOV     R6,A
    356            /* Send out Reset Response message */
    357            MT_BuildAndSendZToolResponse( ((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_APP), MT_APP_RSP, len, pData );
   \   00000B                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   00000B   FB           MOV     R3,A
   \   00000C   7A80         MOV     R2,#-0x80
   \   00000E   7969         MOV     R1,#0x69
   \   000010   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    358          }
   \   000013   7F01         MOV     R7,#0x1
   \   000015   02....       LJMP    ?BANKED_LEAVE_XDATA
    359          
    360          
    361          /***************************************************************************************************
    362           * @fn      MT_ReverseBytes
    363           *
    364           * @brief
    365           *
    366           *   Reverses bytes within an array
    367           *
    368           * @param   data - ptr to data buffer to reverse
    369           * @param    len - number of bytes in buffer
    370           *
    371           * @return  void
    372           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    373          void MT_ReverseBytes( byte *pData, byte len )
   \                     MT_ReverseBytes:
    374          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    375            byte i,j;
    376            byte temp;
    377          
    378            for ( i = 0, j = len-1; len > 1; len-=2 )
   \   000005   7C00         MOV     R4,#0x0
   \   000007   74FF         MOV     A,#-0x1
   \   000009   29           ADD     A,R1
   \   00000A   F8           MOV     R0,A
   \   00000B   804E         SJMP    ??MT_ReverseBytes_0
    379            {
    380              temp = pData[i];
   \                     ??MT_ReverseBytes_1:
   \   00000D   8C..         MOV     ?V0 + 0,R4
   \   00000F   75..00       MOV     ?V0 + 1,#0x0
   \   000012   EA           MOV     A,R2
   \   000013   25..         ADD     A,?V0 + 0
   \   000015   F582         MOV     DPL,A
   \   000017   EB           MOV     A,R3
   \   000018   35..         ADDC    A,?V0 + 1
   \   00001A   F583         MOV     DPH,A
   \   00001C   E0           MOVX    A,@DPTR
   \   00001D   FD           MOV     R5,A
    381              pData[i++] = pData[j];
   \   00001E   88..         MOV     ?V0 + 0,R0
   \   000020   75..00       MOV     ?V0 + 1,#0x0
   \   000023   EA           MOV     A,R2
   \   000024   25..         ADD     A,?V0 + 0
   \   000026   F582         MOV     DPL,A
   \   000028   EB           MOV     A,R3
   \   000029   35..         ADDC    A,?V0 + 1
   \   00002B   F583         MOV     DPH,A
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   C0E0         PUSH    A
   \   000030   8C..         MOV     ?V0 + 0,R4
   \   000032   75..00       MOV     ?V0 + 1,#0x0
   \   000035   EA           MOV     A,R2
   \   000036   25..         ADD     A,?V0 + 0
   \   000038   F582         MOV     DPL,A
   \   00003A   EB           MOV     A,R3
   \   00003B   35..         ADDC    A,?V0 + 1
   \   00003D   F583         MOV     DPH,A
   \   00003F   D0E0         POP     A
   \   000041   F0           MOVX    @DPTR,A
   \   000042   0C           INC     R4
    382              pData[j--] = temp;
   \   000043   ED           MOV     A,R5
   \   000044   C0E0         PUSH    A
   \   000046   88..         MOV     ?V0 + 0,R0
   \   000048   75..00       MOV     ?V0 + 1,#0x0
   \   00004B   EA           MOV     A,R2
   \   00004C   25..         ADD     A,?V0 + 0
   \   00004E   F582         MOV     DPL,A
   \   000050   EB           MOV     A,R3
   \   000051   35..         ADDC    A,?V0 + 1
   \   000053   F583         MOV     DPH,A
   \   000055   D0E0         POP     A
   \   000057   F0           MOVX    @DPTR,A
   \   000058   18           DEC     R0
    383            }
   \   000059   19           DEC     R1
   \   00005A   19           DEC     R1
   \                     ??MT_ReverseBytes_0:
   \   00005B   E9           MOV     A,R1
   \   00005C   C3           CLR     C
   \   00005D   9402         SUBB    A,#0x2
   \   00005F   50AC         JNC     ??MT_ReverseBytes_1
    384          }
   \   000061   7F02         MOV     R7,#0x2
   \   000063   02....       LJMP    ?BANKED_LEAVE_XDATA
    385          
    386          
    387          /***************************************************************************************************
    388           * @fn      MT_Word2Buf
    389           *
    390           * @brief   Copy a uint16 array to a byte array, little endian.
    391           *
    392           * @param   pBuf - byte array
    393           * @param   pWord - uint16 array
    394           * @param   len - length of uint16 array
    395           *
    396           * @return  pointer to end of byte array
    397           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    398          uint8 *MT_Word2Buf( uint8 *pBuf, uint16 *pWord, uint8 len )
   \                     MT_Word2Buf:
    399          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   803A         SJMP    ??MT_Word2Buf_0
    400            while ( len-- > 0 )
    401            {
    402              *pBuf++ = LO_UINT16( *pWord );
   \                     ??MT_Word2Buf_1:
   \   000007   8C82         MOV     DPL,R4
   \   000009   8D83         MOV     DPH,R5
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   FE           MOV     R6,A
   \   00000D   A3           INC     DPTR
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   FF           MOV     R7,A
   \   000010   EE           MOV     A,R6
   \   000011   8A82         MOV     DPL,R2
   \   000013   8B83         MOV     DPH,R3
   \   000015   F0           MOVX    @DPTR,A
   \   000016   8A82         MOV     DPL,R2
   \   000018   8B83         MOV     DPH,R3
   \   00001A   A3           INC     DPTR
   \   00001B   AA82         MOV     R2,DPL
   \   00001D   AB83         MOV     R3,DPH
    403              *pBuf++ = HI_UINT16( *pWord );
   \   00001F   8C82         MOV     DPL,R4
   \   000021   8D83         MOV     DPH,R5
   \   000023   E0           MOVX    A,@DPTR
   \   000024   FE           MOV     R6,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   FF           MOV     R7,A
   \   000028   E4           CLR     A
   \   000029   EF           MOV     A,R7
   \   00002A   FE           MOV     R6,A
   \   00002B   8A82         MOV     DPL,R2
   \   00002D   8B83         MOV     DPH,R3
   \   00002F   F0           MOVX    @DPTR,A
   \   000030   8A82         MOV     DPL,R2
   \   000032   8B83         MOV     DPH,R3
   \   000034   A3           INC     DPTR
   \   000035   AA82         MOV     R2,DPL
   \   000037   AB83         MOV     R3,DPH
    404              pWord++;
   \   000039   EC           MOV     A,R4
   \   00003A   2402         ADD     A,#0x2
   \   00003C   FC           MOV     R4,A
   \   00003D   ED           MOV     A,R5
   \   00003E   3400         ADDC    A,#0x0
   \   000040   FD           MOV     R5,A
    405            }
   \                     ??MT_Word2Buf_0:
   \   000041   E9           MOV     A,R1
   \   000042   F8           MOV     R0,A
   \   000043   74FF         MOV     A,#-0x1
   \   000045   28           ADD     A,R0
   \   000046   F9           MOV     R1,A
   \   000047   E8           MOV     A,R0
   \   000048   C3           CLR     C
   \   000049   9401         SUBB    A,#0x1
   \   00004B   50BA         JNC     ??MT_Word2Buf_1
    406          
    407            return pBuf;
   \   00004D   7F01         MOV     R7,#0x1
   \   00004F   02....       LJMP    ?BANKED_LEAVE_XDATA
    408          }
    409          #if !defined(NONWK)
    410          /***************************************************************************************************
    411           * @fn      MT_BuildEndpointDesc
    412           *
    413           * @brief   Build endpoint descriptor and simple descriptor structure from incoming buffer
    414           *
    415           * @param   pBuf - byte array
    416           *
    417           * @return  epDesc - pointer to the endpoint descriptor
    418           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    419          uint8 MT_BuildEndpointDesc( uint8 *pBuf, void *param )
   \                     MT_BuildEndpointDesc:
    420          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   EC           MOV     A,R4
   \   00000A   F8           MOV     R0,A
   \   00000B   ED           MOV     A,R5
   \   00000C   F9           MOV     R1,A
    421            uint8 i;
    422            uint8 ret = ZSuccess;
   \   00000D   75..00       MOV     ?V0 + 2,#0x0
    423            endPointDesc_t *epDesc;
    424          
    425            epDesc = (endPointDesc_t *)param;
   \   000010   88..         MOV     ?V0 + 0,R0
   \   000012   89..         MOV     ?V0 + 1,R1
    426            /* check if this endpoint is already registered */
    427            if ( afFindEndPointDesc( *pBuf ) != NULL )
   \   000014                ; Setup parameters for call to function afFindEndPointDesc
   \   000014   8E82         MOV     DPL,R6
   \   000016   8F83         MOV     DPH,R7
   \   000018   E0           MOVX    A,@DPTR
   \   000019   F9           MOV     R1,A
   \   00001A   12....       LCALL   ??afFindEndPointDesc?relay
   \   00001D   8A..         MOV     ?V0 + 4,R2
   \   00001F   8B..         MOV     ?V0 + 5,R3
   \   000021   E5..         MOV     A,?V0 + 4
   \   000023   45..         ORL     A,?V0 + 5
   \   000025   6006         JZ      ??MT_BuildEndpointDesc_0
    428            {
    429              ret = ZApsDuplicateEntry;
   \   000027   75..B8       MOV     ?V0 + 2,#-0x48
   \   00002A   02....       LJMP    ??MT_BuildEndpointDesc_1 & 0xFFFF
    430            }
    431            else if ( epDesc )
   \                     ??MT_BuildEndpointDesc_0:
   \   00002D   E5..         MOV     A,?V0 + 0
   \   00002F   45..         ORL     A,?V0 + 1
   \   000031   7003         JNZ     $+5
   \   000033   02....       LJMP    ??MT_BuildEndpointDesc_1 & 0xFFFF
    432            {
    433              epDesc->endPoint = *pBuf;
   \   000036   8E82         MOV     DPL,R6
   \   000038   8F83         MOV     DPH,R7
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   85..82       MOV     DPL,?V0 + 0
   \   00003E   85..83       MOV     DPH,?V0 + 1
   \   000041   F0           MOVX    @DPTR,A
    434          
    435              /* Ignore the latency reqs */
    436              epDesc->latencyReq = noLatencyReqs;
   \   000042   85..82       MOV     DPL,?V0 + 0
   \   000045   85..83       MOV     DPH,?V0 + 1
   \   000048   A3           INC     DPTR
   \   000049   A3           INC     DPTR
   \   00004A   A3           INC     DPTR
   \   00004B   A3           INC     DPTR
   \   00004C   A3           INC     DPTR
   \   00004D   7400         MOV     A,#0x0
   \   00004F   F0           MOVX    @DPTR,A
    437          
    438              /* allocate memory for the simple descriptor */
    439              epDesc->simpleDesc = (SimpleDescriptionFormat_t *) osal_mem_alloc(sizeof(SimpleDescriptionFormat_t));
   \   000050                ; Setup parameters for call to function osal_mem_alloc
   \   000050   7A0C         MOV     R2,#0xc
   \   000052   7B00         MOV     R3,#0x0
   \   000054   12....       LCALL   ??osal_mem_alloc?relay
   \   000057   85..82       MOV     DPL,?V0 + 0
   \   00005A   85..83       MOV     DPH,?V0 + 1
   \   00005D   A3           INC     DPTR
   \   00005E   A3           INC     DPTR
   \   00005F   A3           INC     DPTR
   \   000060   EA           MOV     A,R2
   \   000061   F0           MOVX    @DPTR,A
   \   000062   A3           INC     DPTR
   \   000063   EB           MOV     A,R3
   \   000064   F0           MOVX    @DPTR,A
    440              if (epDesc->simpleDesc)
   \   000065   85..82       MOV     DPL,?V0 + 0
   \   000068   85..83       MOV     DPH,?V0 + 1
   \   00006B   A3           INC     DPTR
   \   00006C   A3           INC     DPTR
   \   00006D   A3           INC     DPTR
   \   00006E   E0           MOVX    A,@DPTR
   \   00006F   F8           MOV     R0,A
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   F9           MOV     R1,A
   \   000073   E8           MOV     A,R0
   \   000074   49           ORL     A,R1
   \   000075   7003         JNZ     $+5
   \   000077   02....       LJMP    ??MT_BuildEndpointDesc_2 & 0xFFFF
    441              {
    442                /* Endpoint */
    443                epDesc->simpleDesc->EndPoint = *pBuf++;
   \   00007A   8E82         MOV     DPL,R6
   \   00007C   8F83         MOV     DPH,R7
   \   00007E   E0           MOVX    A,@DPTR
   \   00007F   C0E0         PUSH    A
   \   000081   85..82       MOV     DPL,?V0 + 0
   \   000084   85..83       MOV     DPH,?V0 + 1
   \   000087   A3           INC     DPTR
   \   000088   A3           INC     DPTR
   \   000089   A3           INC     DPTR
   \   00008A   E0           MOVX    A,@DPTR
   \   00008B   F8           MOV     R0,A
   \   00008C   A3           INC     DPTR
   \   00008D   E0           MOVX    A,@DPTR
   \   00008E   F583         MOV     DPH,A
   \   000090   8882         MOV     DPL,R0
   \   000092   D0E0         POP     A
   \   000094   F0           MOVX    @DPTR,A
   \   000095   8E82         MOV     DPL,R6
   \   000097   8F83         MOV     DPH,R7
   \   000099   A3           INC     DPTR
   \   00009A   AE82         MOV     R6,DPL
   \   00009C   AF83         MOV     R7,DPH
    444          
    445                /* AppProfId */
    446                epDesc->simpleDesc->AppProfId = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   00009E   8E82         MOV     DPL,R6
   \   0000A0   8F83         MOV     DPH,R7
   \   0000A2   E0           MOVX    A,@DPTR
   \   0000A3   FA           MOV     R2,A
   \   0000A4   7B00         MOV     R3,#0x0
   \   0000A6   8E82         MOV     DPL,R6
   \   0000A8   8F83         MOV     DPH,R7
   \   0000AA   A3           INC     DPTR
   \   0000AB   E0           MOVX    A,@DPTR
   \   0000AC   F8           MOV     R0,A
   \   0000AD   7900         MOV     R1,#0x0
   \   0000AF   E4           CLR     A
   \   0000B0   C8           XCH     A,R0
   \   0000B1   F9           MOV     R1,A
   \   0000B2   EA           MOV     A,R2
   \   0000B3   28           ADD     A,R0
   \   0000B4   F8           MOV     R0,A
   \   0000B5   EB           MOV     A,R3
   \   0000B6   39           ADDC    A,R1
   \   0000B7   F9           MOV     R1,A
   \   0000B8   85..82       MOV     DPL,?V0 + 0
   \   0000BB   85..83       MOV     DPH,?V0 + 1
   \   0000BE   A3           INC     DPTR
   \   0000BF   A3           INC     DPTR
   \   0000C0   A3           INC     DPTR
   \   0000C1   E0           MOVX    A,@DPTR
   \   0000C2   FA           MOV     R2,A
   \   0000C3   A3           INC     DPTR
   \   0000C4   E0           MOVX    A,@DPTR
   \   0000C5   F583         MOV     DPH,A
   \   0000C7   8A82         MOV     DPL,R2
   \   0000C9   A3           INC     DPTR
   \   0000CA   E8           MOV     A,R0
   \   0000CB   F0           MOVX    @DPTR,A
   \   0000CC   A3           INC     DPTR
   \   0000CD   E9           MOV     A,R1
   \   0000CE   F0           MOVX    @DPTR,A
    447                pBuf += sizeof(uint16);
   \   0000CF   EE           MOV     A,R6
   \   0000D0   2402         ADD     A,#0x2
   \   0000D2   FE           MOV     R6,A
   \   0000D3   EF           MOV     A,R7
   \   0000D4   3400         ADDC    A,#0x0
   \   0000D6   FF           MOV     R7,A
    448          
    449                /* AppDeviceId */
    450                epDesc->simpleDesc->AppDeviceId = BUILD_UINT16(pBuf[0],pBuf[1]);
   \   0000D7   8E82         MOV     DPL,R6
   \   0000D9   8F83         MOV     DPH,R7
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   FA           MOV     R2,A
   \   0000DD   7B00         MOV     R3,#0x0
   \   0000DF   8E82         MOV     DPL,R6
   \   0000E1   8F83         MOV     DPH,R7
   \   0000E3   A3           INC     DPTR
   \   0000E4   E0           MOVX    A,@DPTR
   \   0000E5   F8           MOV     R0,A
   \   0000E6   7900         MOV     R1,#0x0
   \   0000E8   E4           CLR     A
   \   0000E9   C8           XCH     A,R0
   \   0000EA   F9           MOV     R1,A
   \   0000EB   EA           MOV     A,R2
   \   0000EC   28           ADD     A,R0
   \   0000ED   F8           MOV     R0,A
   \   0000EE   EB           MOV     A,R3
   \   0000EF   39           ADDC    A,R1
   \   0000F0   F9           MOV     R1,A
   \   0000F1   85..82       MOV     DPL,?V0 + 0
   \   0000F4   85..83       MOV     DPH,?V0 + 1
   \   0000F7   A3           INC     DPTR
   \   0000F8   A3           INC     DPTR
   \   0000F9   A3           INC     DPTR
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   FA           MOV     R2,A
   \   0000FC   A3           INC     DPTR
   \   0000FD   E0           MOVX    A,@DPTR
   \   0000FE   F583         MOV     DPH,A
   \   000100   8A82         MOV     DPL,R2
   \   000102   A3           INC     DPTR
   \   000103   A3           INC     DPTR
   \   000104   A3           INC     DPTR
   \   000105   E8           MOV     A,R0
   \   000106   F0           MOVX    @DPTR,A
   \   000107   A3           INC     DPTR
   \   000108   E9           MOV     A,R1
   \   000109   F0           MOVX    @DPTR,A
    451                pBuf += sizeof(uint16);
   \   00010A   EE           MOV     A,R6
   \   00010B   2402         ADD     A,#0x2
   \   00010D   FE           MOV     R6,A
   \   00010E   EF           MOV     A,R7
   \   00010F   3400         ADDC    A,#0x0
   \   000111   FF           MOV     R7,A
    452          
    453                /* AppDevVer */
    454                epDesc->simpleDesc->AppDevVer = (*pBuf++) & AF_APP_DEV_VER_MASK ;
   \   000112   8E82         MOV     DPL,R6
   \   000114   8F83         MOV     DPH,R7
   \   000116   E0           MOVX    A,@DPTR
   \   000117   540F         ANL     A,#0xf
   \   000119   F8           MOV     R0,A
   \   00011A   8E82         MOV     DPL,R6
   \   00011C   8F83         MOV     DPH,R7
   \   00011E   A3           INC     DPTR
   \   00011F   AE82         MOV     R6,DPL
   \   000121   AF83         MOV     R7,DPH
   \   000123   740F         MOV     A,#0xf
   \   000125   58           ANL     A,R0
   \   000126   F8           MOV     R0,A
   \   000127   85..82       MOV     DPL,?V0 + 0
   \   00012A   85..83       MOV     DPH,?V0 + 1
   \   00012D   A3           INC     DPTR
   \   00012E   A3           INC     DPTR
   \   00012F   A3           INC     DPTR
   \   000130   E0           MOVX    A,@DPTR
   \   000131   F9           MOV     R1,A
   \   000132   A3           INC     DPTR
   \   000133   E0           MOVX    A,@DPTR
   \   000134   F583         MOV     DPH,A
   \   000136   8982         MOV     DPL,R1
   \   000138   A3           INC     DPTR
   \   000139   A3           INC     DPTR
   \   00013A   A3           INC     DPTR
   \   00013B   A3           INC     DPTR
   \   00013C   A3           INC     DPTR
   \   00013D   E0           MOVX    A,@DPTR
   \   00013E   54F0         ANL     A,#0xf0
   \   000140   48           ORL     A,R0
   \   000141   C0E0         PUSH    A
   \   000143   85..82       MOV     DPL,?V0 + 0
   \   000146   85..83       MOV     DPH,?V0 + 1
   \   000149   A3           INC     DPTR
   \   00014A   A3           INC     DPTR
   \   00014B   A3           INC     DPTR
   \   00014C   E0           MOVX    A,@DPTR
   \   00014D   F8           MOV     R0,A
   \   00014E   A3           INC     DPTR
   \   00014F   E0           MOVX    A,@DPTR
   \   000150   F583         MOV     DPH,A
   \   000152   8882         MOV     DPL,R0
   \   000154   A3           INC     DPTR
   \   000155   A3           INC     DPTR
   \   000156   A3           INC     DPTR
   \   000157   A3           INC     DPTR
   \   000158   A3           INC     DPTR
   \   000159   D0E0         POP     A
   \   00015B   F0           MOVX    @DPTR,A
    455          
    456                /* LatencyReq */
    457                pBuf++;
   \   00015C   8E82         MOV     DPL,R6
   \   00015E   8F83         MOV     DPH,R7
   \   000160   A3           INC     DPTR
   \   000161   AE82         MOV     R6,DPL
   \   000163   AF83         MOV     R7,DPH
    458          
    459                /* AppNumInClusters */
    460                epDesc->simpleDesc->AppNumInClusters = *pBuf++;
   \   000165   8E82         MOV     DPL,R6
   \   000167   8F83         MOV     DPH,R7
   \   000169   E0           MOVX    A,@DPTR
   \   00016A   C0E0         PUSH    A
   \   00016C   85..82       MOV     DPL,?V0 + 0
   \   00016F   85..83       MOV     DPH,?V0 + 1
   \   000172   A3           INC     DPTR
   \   000173   A3           INC     DPTR
   \   000174   A3           INC     DPTR
   \   000175   E0           MOVX    A,@DPTR
   \   000176   F8           MOV     R0,A
   \   000177   A3           INC     DPTR
   \   000178   E0           MOVX    A,@DPTR
   \   000179   F583         MOV     DPH,A
   \   00017B   8882         MOV     DPL,R0
   \   00017D   A3           INC     DPTR
   \   00017E   A3           INC     DPTR
   \   00017F   A3           INC     DPTR
   \   000180   A3           INC     DPTR
   \   000181   A3           INC     DPTR
   \   000182   A3           INC     DPTR
   \   000183   D0E0         POP     A
   \   000185   F0           MOVX    @DPTR,A
   \   000186   8E82         MOV     DPL,R6
   \   000188   8F83         MOV     DPH,R7
   \   00018A   A3           INC     DPTR
   \   00018B   AE82         MOV     R6,DPL
   \   00018D   AF83         MOV     R7,DPH
    461                if (epDesc->simpleDesc->AppNumInClusters)
   \   00018F   85..82       MOV     DPL,?V0 + 0
   \   000192   85..83       MOV     DPH,?V0 + 1
   \   000195   A3           INC     DPTR
   \   000196   A3           INC     DPTR
   \   000197   A3           INC     DPTR
   \   000198   E0           MOVX    A,@DPTR
   \   000199   F8           MOV     R0,A
   \   00019A   A3           INC     DPTR
   \   00019B   E0           MOVX    A,@DPTR
   \   00019C   F583         MOV     DPH,A
   \   00019E   8882         MOV     DPL,R0
   \   0001A0   A3           INC     DPTR
   \   0001A1   A3           INC     DPTR
   \   0001A2   A3           INC     DPTR
   \   0001A3   A3           INC     DPTR
   \   0001A4   A3           INC     DPTR
   \   0001A5   A3           INC     DPTR
   \   0001A6   E0           MOVX    A,@DPTR
   \   0001A7   7003         JNZ     $+5
   \   0001A9   02....       LJMP    ??MT_BuildEndpointDesc_3 & 0xFFFF
    462                {
    463                  epDesc->simpleDesc->pAppInClusterList = (uint16 *)
    464                            osal_mem_alloc((epDesc->simpleDesc->AppNumInClusters)*sizeof(uint16));
   \   0001AC                ; Setup parameters for call to function osal_mem_alloc
   \   0001AC   85..82       MOV     DPL,?V0 + 0
   \   0001AF   85..83       MOV     DPH,?V0 + 1
   \   0001B2   A3           INC     DPTR
   \   0001B3   A3           INC     DPTR
   \   0001B4   A3           INC     DPTR
   \   0001B5   E0           MOVX    A,@DPTR
   \   0001B6   F8           MOV     R0,A
   \   0001B7   A3           INC     DPTR
   \   0001B8   E0           MOVX    A,@DPTR
   \   0001B9   F583         MOV     DPH,A
   \   0001BB   8882         MOV     DPL,R0
   \   0001BD   A3           INC     DPTR
   \   0001BE   A3           INC     DPTR
   \   0001BF   A3           INC     DPTR
   \   0001C0   A3           INC     DPTR
   \   0001C1   A3           INC     DPTR
   \   0001C2   A3           INC     DPTR
   \   0001C3   E0           MOVX    A,@DPTR
   \   0001C4   FA           MOV     R2,A
   \   0001C5   7B00         MOV     R3,#0x0
   \   0001C7   EA           MOV     A,R2
   \   0001C8   75F002       MOV     B,#0x2
   \   0001CB   A4           MUL     AB
   \   0001CC   CA           XCH     A,R2
   \   0001CD   A8F0         MOV     R0,B
   \   0001CF   75F000       MOV     B,#0x0
   \   0001D2   A4           MUL     AB
   \   0001D3   28           ADD     A,R0
   \   0001D4   F8           MOV     R0,A
   \   0001D5   75F002       MOV     B,#0x2
   \   0001D8   EB           MOV     A,R3
   \   0001D9   A4           MUL     AB
   \   0001DA   28           ADD     A,R0
   \   0001DB   FB           MOV     R3,A
   \   0001DC   12....       LCALL   ??osal_mem_alloc?relay
   \   0001DF   85..82       MOV     DPL,?V0 + 0
   \   0001E2   85..83       MOV     DPH,?V0 + 1
   \   0001E5   A3           INC     DPTR
   \   0001E6   A3           INC     DPTR
   \   0001E7   A3           INC     DPTR
   \   0001E8   E0           MOVX    A,@DPTR
   \   0001E9   F8           MOV     R0,A
   \   0001EA   A3           INC     DPTR
   \   0001EB   E0           MOVX    A,@DPTR
   \   0001EC   F583         MOV     DPH,A
   \   0001EE   8882         MOV     DPL,R0
   \   0001F0   A3           INC     DPTR
   \   0001F1   A3           INC     DPTR
   \   0001F2   A3           INC     DPTR
   \   0001F3   A3           INC     DPTR
   \   0001F4   A3           INC     DPTR
   \   0001F5   A3           INC     DPTR
   \   0001F6   A3           INC     DPTR
   \   0001F7   EA           MOV     A,R2
   \   0001F8   F0           MOVX    @DPTR,A
   \   0001F9   A3           INC     DPTR
   \   0001FA   EB           MOV     A,R3
   \   0001FB   F0           MOVX    @DPTR,A
    465                  if ( epDesc->simpleDesc->pAppInClusterList )
   \   0001FC   85..82       MOV     DPL,?V0 + 0
   \   0001FF   85..83       MOV     DPH,?V0 + 1
   \   000202   A3           INC     DPTR
   \   000203   A3           INC     DPTR
   \   000204   A3           INC     DPTR
   \   000205   E0           MOVX    A,@DPTR
   \   000206   F8           MOV     R0,A
   \   000207   A3           INC     DPTR
   \   000208   E0           MOVX    A,@DPTR
   \   000209   F583         MOV     DPH,A
   \   00020B   8882         MOV     DPL,R0
   \   00020D   A3           INC     DPTR
   \   00020E   A3           INC     DPTR
   \   00020F   A3           INC     DPTR
   \   000210   A3           INC     DPTR
   \   000211   A3           INC     DPTR
   \   000212   A3           INC     DPTR
   \   000213   A3           INC     DPTR
   \   000214   E0           MOVX    A,@DPTR
   \   000215   F8           MOV     R0,A
   \   000216   A3           INC     DPTR
   \   000217   E0           MOVX    A,@DPTR
   \   000218   F9           MOV     R1,A
   \   000219   E8           MOV     A,R0
   \   00021A   49           ORL     A,R1
   \   00021B   7003         JNZ     $+5
   \   00021D   02....       LJMP    ??MT_BuildEndpointDesc_4 & 0xFFFF
    466                  {
    467                    for (i=0; i<(epDesc->simpleDesc->AppNumInClusters); i++)
   \   000220   7B00         MOV     R3,#0x0
   \                     ??MT_BuildEndpointDesc_5:
   \   000222   85..82       MOV     DPL,?V0 + 0
   \   000225   85..83       MOV     DPH,?V0 + 1
   \   000228   A3           INC     DPTR
   \   000229   A3           INC     DPTR
   \   00022A   A3           INC     DPTR
   \   00022B   E0           MOVX    A,@DPTR
   \   00022C   F8           MOV     R0,A
   \   00022D   A3           INC     DPTR
   \   00022E   E0           MOVX    A,@DPTR
   \   00022F   F583         MOV     DPH,A
   \   000231   8882         MOV     DPL,R0
   \   000233   A3           INC     DPTR
   \   000234   A3           INC     DPTR
   \   000235   A3           INC     DPTR
   \   000236   A3           INC     DPTR
   \   000237   A3           INC     DPTR
   \   000238   A3           INC     DPTR
   \   000239   E0           MOVX    A,@DPTR
   \   00023A   F8           MOV     R0,A
   \   00023B   EB           MOV     A,R3
   \   00023C   C3           CLR     C
   \   00023D   98           SUBB    A,R0
   \   00023E   5069         JNC     ??MT_BuildEndpointDesc_3
    468                    {
    469                      epDesc->simpleDesc->pAppInClusterList[i] = BUILD_UINT16(*pBuf, *(pBuf+1));
   \   000240   8E82         MOV     DPL,R6
   \   000242   8F83         MOV     DPH,R7
   \   000244   E0           MOVX    A,@DPTR
   \   000245   FC           MOV     R4,A
   \   000246   7D00         MOV     R5,#0x0
   \   000248   8E82         MOV     DPL,R6
   \   00024A   8F83         MOV     DPH,R7
   \   00024C   A3           INC     DPTR
   \   00024D   E0           MOVX    A,@DPTR
   \   00024E   F8           MOV     R0,A
   \   00024F   7900         MOV     R1,#0x0
   \   000251   E4           CLR     A
   \   000252   C8           XCH     A,R0
   \   000253   F9           MOV     R1,A
   \   000254   EC           MOV     A,R4
   \   000255   28           ADD     A,R0
   \   000256   FC           MOV     R4,A
   \   000257   ED           MOV     A,R5
   \   000258   39           ADDC    A,R1
   \   000259   FD           MOV     R5,A
   \   00025A   EB           MOV     A,R3
   \   00025B   F8           MOV     R0,A
   \   00025C   7900         MOV     R1,#0x0
   \   00025E   E8           MOV     A,R0
   \   00025F   75F002       MOV     B,#0x2
   \   000262   A4           MUL     AB
   \   000263   C8           XCH     A,R0
   \   000264   AAF0         MOV     R2,B
   \   000266   75F000       MOV     B,#0x0
   \   000269   A4           MUL     AB
   \   00026A   2A           ADD     A,R2
   \   00026B   FA           MOV     R2,A
   \   00026C   75F002       MOV     B,#0x2
   \   00026F   E9           MOV     A,R1
   \   000270   A4           MUL     AB
   \   000271   2A           ADD     A,R2
   \   000272   F9           MOV     R1,A
   \   000273   85..82       MOV     DPL,?V0 + 0
   \   000276   85..83       MOV     DPH,?V0 + 1
   \   000279   A3           INC     DPTR
   \   00027A   A3           INC     DPTR
   \   00027B   A3           INC     DPTR
   \   00027C   E0           MOVX    A,@DPTR
   \   00027D   FA           MOV     R2,A
   \   00027E   A3           INC     DPTR
   \   00027F   E0           MOVX    A,@DPTR
   \   000280   F583         MOV     DPH,A
   \   000282   8A82         MOV     DPL,R2
   \   000284   A3           INC     DPTR
   \   000285   A3           INC     DPTR
   \   000286   A3           INC     DPTR
   \   000287   A3           INC     DPTR
   \   000288   A3           INC     DPTR
   \   000289   A3           INC     DPTR
   \   00028A   A3           INC     DPTR
   \   00028B   E0           MOVX    A,@DPTR
   \   00028C   28           ADD     A,R0
   \   00028D   FA           MOV     R2,A
   \   00028E   A3           INC     DPTR
   \   00028F   E0           MOVX    A,@DPTR
   \   000290   39           ADDC    A,R1
   \   000291   8A82         MOV     DPL,R2
   \   000293   F583         MOV     DPH,A
   \   000295   EC           MOV     A,R4
   \   000296   F0           MOVX    @DPTR,A
   \   000297   A3           INC     DPTR
   \   000298   ED           MOV     A,R5
   \   000299   F0           MOVX    @DPTR,A
    470                      pBuf += 2;
   \   00029A   EE           MOV     A,R6
   \   00029B   2402         ADD     A,#0x2
   \   00029D   FE           MOV     R6,A
   \   00029E   EF           MOV     A,R7
   \   00029F   3400         ADDC    A,#0x0
   \   0002A1   FF           MOV     R7,A
    471                    }
   \   0002A2   0B           INC     R3
   \   0002A3   02....       LJMP    ??MT_BuildEndpointDesc_5 & 0xFFFF
    472                  }
    473                  else
    474                  {
    475                    ret = ZMemError;
   \                     ??MT_BuildEndpointDesc_4:
   \   0002A6   75..10       MOV     ?V0 + 2,#0x10
    476                  }
    477                }
    478          
    479                /* AppNumOutClusters */
    480                epDesc->simpleDesc->AppNumOutClusters = *pBuf++;
   \                     ??MT_BuildEndpointDesc_3:
   \   0002A9   8E82         MOV     DPL,R6
   \   0002AB   8F83         MOV     DPH,R7
   \   0002AD   E0           MOVX    A,@DPTR
   \   0002AE   C0E0         PUSH    A
   \   0002B0   85..82       MOV     DPL,?V0 + 0
   \   0002B3   85..83       MOV     DPH,?V0 + 1
   \   0002B6   A3           INC     DPTR
   \   0002B7   A3           INC     DPTR
   \   0002B8   A3           INC     DPTR
   \   0002B9   E0           MOVX    A,@DPTR
   \   0002BA   F8           MOV     R0,A
   \   0002BB   A3           INC     DPTR
   \   0002BC   E0           MOVX    A,@DPTR
   \   0002BD   F583         MOV     DPH,A
   \   0002BF   8882         MOV     DPL,R0
   \   0002C1   A3           INC     DPTR
   \   0002C2   A3           INC     DPTR
   \   0002C3   A3           INC     DPTR
   \   0002C4   A3           INC     DPTR
   \   0002C5   A3           INC     DPTR
   \   0002C6   A3           INC     DPTR
   \   0002C7   A3           INC     DPTR
   \   0002C8   A3           INC     DPTR
   \   0002C9   A3           INC     DPTR
   \   0002CA   D0E0         POP     A
   \   0002CC   F0           MOVX    @DPTR,A
   \   0002CD   8E82         MOV     DPL,R6
   \   0002CF   8F83         MOV     DPH,R7
   \   0002D1   A3           INC     DPTR
   \   0002D2   AE82         MOV     R6,DPL
   \   0002D4   AF83         MOV     R7,DPH
    481                if (epDesc->simpleDesc->AppNumOutClusters)
   \   0002D6   85..82       MOV     DPL,?V0 + 0
   \   0002D9   85..83       MOV     DPH,?V0 + 1
   \   0002DC   A3           INC     DPTR
   \   0002DD   A3           INC     DPTR
   \   0002DE   A3           INC     DPTR
   \   0002DF   E0           MOVX    A,@DPTR
   \   0002E0   F8           MOV     R0,A
   \   0002E1   A3           INC     DPTR
   \   0002E2   E0           MOVX    A,@DPTR
   \   0002E3   F583         MOV     DPH,A
   \   0002E5   8882         MOV     DPL,R0
   \   0002E7   A3           INC     DPTR
   \   0002E8   A3           INC     DPTR
   \   0002E9   A3           INC     DPTR
   \   0002EA   A3           INC     DPTR
   \   0002EB   A3           INC     DPTR
   \   0002EC   A3           INC     DPTR
   \   0002ED   A3           INC     DPTR
   \   0002EE   A3           INC     DPTR
   \   0002EF   A3           INC     DPTR
   \   0002F0   E0           MOVX    A,@DPTR
   \   0002F1   7003         JNZ     $+5
   \   0002F3   02....       LJMP    ??MT_BuildEndpointDesc_6 & 0xFFFF
    482                {
    483                  epDesc->simpleDesc->pAppOutClusterList = (uint16 *)
    484                                    osal_mem_alloc((epDesc->simpleDesc->AppNumOutClusters)*sizeof(uint16));
   \   0002F6                ; Setup parameters for call to function osal_mem_alloc
   \   0002F6   85..82       MOV     DPL,?V0 + 0
   \   0002F9   85..83       MOV     DPH,?V0 + 1
   \   0002FC   A3           INC     DPTR
   \   0002FD   A3           INC     DPTR
   \   0002FE   A3           INC     DPTR
   \   0002FF   E0           MOVX    A,@DPTR
   \   000300   F8           MOV     R0,A
   \   000301   A3           INC     DPTR
   \   000302   E0           MOVX    A,@DPTR
   \   000303   F583         MOV     DPH,A
   \   000305   8882         MOV     DPL,R0
   \   000307   A3           INC     DPTR
   \   000308   A3           INC     DPTR
   \   000309   A3           INC     DPTR
   \   00030A   A3           INC     DPTR
   \   00030B   A3           INC     DPTR
   \   00030C   A3           INC     DPTR
   \   00030D   A3           INC     DPTR
   \   00030E   A3           INC     DPTR
   \   00030F   A3           INC     DPTR
   \   000310   E0           MOVX    A,@DPTR
   \   000311   FA           MOV     R2,A
   \   000312   7B00         MOV     R3,#0x0
   \   000314   EA           MOV     A,R2
   \   000315   75F002       MOV     B,#0x2
   \   000318   A4           MUL     AB
   \   000319   CA           XCH     A,R2
   \   00031A   A8F0         MOV     R0,B
   \   00031C   75F000       MOV     B,#0x0
   \   00031F   A4           MUL     AB
   \   000320   28           ADD     A,R0
   \   000321   F8           MOV     R0,A
   \   000322   75F002       MOV     B,#0x2
   \   000325   EB           MOV     A,R3
   \   000326   A4           MUL     AB
   \   000327   28           ADD     A,R0
   \   000328   FB           MOV     R3,A
   \   000329   12....       LCALL   ??osal_mem_alloc?relay
   \   00032C   85..82       MOV     DPL,?V0 + 0
   \   00032F   85..83       MOV     DPH,?V0 + 1
   \   000332   A3           INC     DPTR
   \   000333   A3           INC     DPTR
   \   000334   A3           INC     DPTR
   \   000335   E0           MOVX    A,@DPTR
   \   000336   F8           MOV     R0,A
   \   000337   A3           INC     DPTR
   \   000338   E0           MOVX    A,@DPTR
   \   000339   F583         MOV     DPH,A
   \   00033B   8882         MOV     DPL,R0
   \   00033D   A3           INC     DPTR
   \   00033E   A3           INC     DPTR
   \   00033F   A3           INC     DPTR
   \   000340   A3           INC     DPTR
   \   000341   A3           INC     DPTR
   \   000342   A3           INC     DPTR
   \   000343   A3           INC     DPTR
   \   000344   A3           INC     DPTR
   \   000345   A3           INC     DPTR
   \   000346   A3           INC     DPTR
   \   000347   EA           MOV     A,R2
   \   000348   F0           MOVX    @DPTR,A
   \   000349   A3           INC     DPTR
   \   00034A   EB           MOV     A,R3
   \   00034B   F0           MOVX    @DPTR,A
    485                  if (epDesc->simpleDesc->pAppOutClusterList)
   \   00034C   85..82       MOV     DPL,?V0 + 0
   \   00034F   85..83       MOV     DPH,?V0 + 1
   \   000352   A3           INC     DPTR
   \   000353   A3           INC     DPTR
   \   000354   A3           INC     DPTR
   \   000355   E0           MOVX    A,@DPTR
   \   000356   F8           MOV     R0,A
   \   000357   A3           INC     DPTR
   \   000358   E0           MOVX    A,@DPTR
   \   000359   F583         MOV     DPH,A
   \   00035B   8882         MOV     DPL,R0
   \   00035D   A3           INC     DPTR
   \   00035E   A3           INC     DPTR
   \   00035F   A3           INC     DPTR
   \   000360   A3           INC     DPTR
   \   000361   A3           INC     DPTR
   \   000362   A3           INC     DPTR
   \   000363   A3           INC     DPTR
   \   000364   A3           INC     DPTR
   \   000365   A3           INC     DPTR
   \   000366   A3           INC     DPTR
   \   000367   E0           MOVX    A,@DPTR
   \   000368   F8           MOV     R0,A
   \   000369   A3           INC     DPTR
   \   00036A   E0           MOVX    A,@DPTR
   \   00036B   F9           MOV     R1,A
   \   00036C   E8           MOV     A,R0
   \   00036D   49           ORL     A,R1
   \   00036E   7003         JNZ     $+5
   \   000370   02....       LJMP    ??MT_BuildEndpointDesc_7 & 0xFFFF
    486                  {
    487                    for (i=0; i<(epDesc->simpleDesc->AppNumOutClusters); i++)
   \   000373   7B00         MOV     R3,#0x0
   \                     ??MT_BuildEndpointDesc_8:
   \   000375   85..82       MOV     DPL,?V0 + 0
   \   000378   85..83       MOV     DPH,?V0 + 1
   \   00037B   A3           INC     DPTR
   \   00037C   A3           INC     DPTR
   \   00037D   A3           INC     DPTR
   \   00037E   E0           MOVX    A,@DPTR
   \   00037F   F8           MOV     R0,A
   \   000380   A3           INC     DPTR
   \   000381   E0           MOVX    A,@DPTR
   \   000382   F583         MOV     DPH,A
   \   000384   8882         MOV     DPL,R0
   \   000386   A3           INC     DPTR
   \   000387   A3           INC     DPTR
   \   000388   A3           INC     DPTR
   \   000389   A3           INC     DPTR
   \   00038A   A3           INC     DPTR
   \   00038B   A3           INC     DPTR
   \   00038C   A3           INC     DPTR
   \   00038D   A3           INC     DPTR
   \   00038E   A3           INC     DPTR
   \   00038F   E0           MOVX    A,@DPTR
   \   000390   F8           MOV     R0,A
   \   000391   EB           MOV     A,R3
   \   000392   C3           CLR     C
   \   000393   98           SUBB    A,R0
   \   000394   506C         JNC     ??MT_BuildEndpointDesc_6
    488                    {
    489                      epDesc->simpleDesc->pAppOutClusterList[i] = BUILD_UINT16(*pBuf, *(pBuf+1));
   \   000396   8E82         MOV     DPL,R6
   \   000398   8F83         MOV     DPH,R7
   \   00039A   E0           MOVX    A,@DPTR
   \   00039B   FC           MOV     R4,A
   \   00039C   7D00         MOV     R5,#0x0
   \   00039E   8E82         MOV     DPL,R6
   \   0003A0   8F83         MOV     DPH,R7
   \   0003A2   A3           INC     DPTR
   \   0003A3   E0           MOVX    A,@DPTR
   \   0003A4   F8           MOV     R0,A
   \   0003A5   7900         MOV     R1,#0x0
   \   0003A7   E4           CLR     A
   \   0003A8   C8           XCH     A,R0
   \   0003A9   F9           MOV     R1,A
   \   0003AA   EC           MOV     A,R4
   \   0003AB   28           ADD     A,R0
   \   0003AC   FC           MOV     R4,A
   \   0003AD   ED           MOV     A,R5
   \   0003AE   39           ADDC    A,R1
   \   0003AF   FD           MOV     R5,A
   \   0003B0   EB           MOV     A,R3
   \   0003B1   F8           MOV     R0,A
   \   0003B2   7900         MOV     R1,#0x0
   \   0003B4   E8           MOV     A,R0
   \   0003B5   75F002       MOV     B,#0x2
   \   0003B8   A4           MUL     AB
   \   0003B9   C8           XCH     A,R0
   \   0003BA   AAF0         MOV     R2,B
   \   0003BC   75F000       MOV     B,#0x0
   \   0003BF   A4           MUL     AB
   \   0003C0   2A           ADD     A,R2
   \   0003C1   FA           MOV     R2,A
   \   0003C2   75F002       MOV     B,#0x2
   \   0003C5   E9           MOV     A,R1
   \   0003C6   A4           MUL     AB
   \   0003C7   2A           ADD     A,R2
   \   0003C8   F9           MOV     R1,A
   \   0003C9   85..82       MOV     DPL,?V0 + 0
   \   0003CC   85..83       MOV     DPH,?V0 + 1
   \   0003CF   A3           INC     DPTR
   \   0003D0   A3           INC     DPTR
   \   0003D1   A3           INC     DPTR
   \   0003D2   E0           MOVX    A,@DPTR
   \   0003D3   FA           MOV     R2,A
   \   0003D4   A3           INC     DPTR
   \   0003D5   E0           MOVX    A,@DPTR
   \   0003D6   F583         MOV     DPH,A
   \   0003D8   8A82         MOV     DPL,R2
   \   0003DA   A3           INC     DPTR
   \   0003DB   A3           INC     DPTR
   \   0003DC   A3           INC     DPTR
   \   0003DD   A3           INC     DPTR
   \   0003DE   A3           INC     DPTR
   \   0003DF   A3           INC     DPTR
   \   0003E0   A3           INC     DPTR
   \   0003E1   A3           INC     DPTR
   \   0003E2   A3           INC     DPTR
   \   0003E3   A3           INC     DPTR
   \   0003E4   E0           MOVX    A,@DPTR
   \   0003E5   28           ADD     A,R0
   \   0003E6   FA           MOV     R2,A
   \   0003E7   A3           INC     DPTR
   \   0003E8   E0           MOVX    A,@DPTR
   \   0003E9   39           ADDC    A,R1
   \   0003EA   8A82         MOV     DPL,R2
   \   0003EC   F583         MOV     DPH,A
   \   0003EE   EC           MOV     A,R4
   \   0003EF   F0           MOVX    @DPTR,A
   \   0003F0   A3           INC     DPTR
   \   0003F1   ED           MOV     A,R5
   \   0003F2   F0           MOVX    @DPTR,A
    490                      pBuf += 2;
   \   0003F3   EE           MOV     A,R6
   \   0003F4   2402         ADD     A,#0x2
   \   0003F6   FE           MOV     R6,A
   \   0003F7   EF           MOV     A,R7
   \   0003F8   3400         ADDC    A,#0x0
   \   0003FA   FF           MOV     R7,A
    491                    }
   \   0003FB   0B           INC     R3
   \   0003FC   02....       LJMP    ??MT_BuildEndpointDesc_8 & 0xFFFF
    492                  }
    493                  else
    494                  {
    495                    ret = ZMemError;
   \                     ??MT_BuildEndpointDesc_7:
   \   0003FF   75..10       MOV     ?V0 + 2,#0x10
    496                  }
    497                }
    498          
    499                /* if any list cannot be allocated...free all */
    500                if ( ret == ZMemError )
   \                     ??MT_BuildEndpointDesc_6:
   \   000402   7410         MOV     A,#0x10
   \   000404   65..         XRL     A,?V0 + 2
   \   000406   6003         JZ      $+5
   \   000408   02....       LJMP    ??MT_BuildEndpointDesc_1 & 0xFFFF
    501                {
    502                  if (epDesc->simpleDesc->pAppInClusterList)
   \   00040B   85..82       MOV     DPL,?V0 + 0
   \   00040E   85..83       MOV     DPH,?V0 + 1
   \   000411   A3           INC     DPTR
   \   000412   A3           INC     DPTR
   \   000413   A3           INC     DPTR
   \   000414   E0           MOVX    A,@DPTR
   \   000415   F8           MOV     R0,A
   \   000416   A3           INC     DPTR
   \   000417   E0           MOVX    A,@DPTR
   \   000418   F583         MOV     DPH,A
   \   00041A   8882         MOV     DPL,R0
   \   00041C   A3           INC     DPTR
   \   00041D   A3           INC     DPTR
   \   00041E   A3           INC     DPTR
   \   00041F   A3           INC     DPTR
   \   000420   A3           INC     DPTR
   \   000421   A3           INC     DPTR
   \   000422   A3           INC     DPTR
   \   000423   E0           MOVX    A,@DPTR
   \   000424   F8           MOV     R0,A
   \   000425   A3           INC     DPTR
   \   000426   E0           MOVX    A,@DPTR
   \   000427   F9           MOV     R1,A
   \   000428   E8           MOV     A,R0
   \   000429   49           ORL     A,R1
   \   00042A   6020         JZ      ??MT_BuildEndpointDesc_9
    503                  {
    504                    osal_mem_free(epDesc->simpleDesc->pAppInClusterList);
   \   00042C                ; Setup parameters for call to function osal_mem_free
   \   00042C   85..82       MOV     DPL,?V0 + 0
   \   00042F   85..83       MOV     DPH,?V0 + 1
   \   000432   A3           INC     DPTR
   \   000433   A3           INC     DPTR
   \   000434   A3           INC     DPTR
   \   000435   E0           MOVX    A,@DPTR
   \   000436   F8           MOV     R0,A
   \   000437   A3           INC     DPTR
   \   000438   E0           MOVX    A,@DPTR
   \   000439   F583         MOV     DPH,A
   \   00043B   8882         MOV     DPL,R0
   \   00043D   A3           INC     DPTR
   \   00043E   A3           INC     DPTR
   \   00043F   A3           INC     DPTR
   \   000440   A3           INC     DPTR
   \   000441   A3           INC     DPTR
   \   000442   A3           INC     DPTR
   \   000443   A3           INC     DPTR
   \   000444   E0           MOVX    A,@DPTR
   \   000445   FA           MOV     R2,A
   \   000446   A3           INC     DPTR
   \   000447   E0           MOVX    A,@DPTR
   \   000448   FB           MOV     R3,A
   \   000449   12....       LCALL   ??osal_mem_free?relay
    505                  }
    506          
    507                  if (epDesc->simpleDesc->AppNumOutClusters)
   \                     ??MT_BuildEndpointDesc_9:
   \   00044C   85..82       MOV     DPL,?V0 + 0
   \   00044F   85..83       MOV     DPH,?V0 + 1
   \   000452   A3           INC     DPTR
   \   000453   A3           INC     DPTR
   \   000454   A3           INC     DPTR
   \   000455   E0           MOVX    A,@DPTR
   \   000456   F8           MOV     R0,A
   \   000457   A3           INC     DPTR
   \   000458   E0           MOVX    A,@DPTR
   \   000459   F583         MOV     DPH,A
   \   00045B   8882         MOV     DPL,R0
   \   00045D   A3           INC     DPTR
   \   00045E   A3           INC     DPTR
   \   00045F   A3           INC     DPTR
   \   000460   A3           INC     DPTR
   \   000461   A3           INC     DPTR
   \   000462   A3           INC     DPTR
   \   000463   A3           INC     DPTR
   \   000464   A3           INC     DPTR
   \   000465   A3           INC     DPTR
   \   000466   E0           MOVX    A,@DPTR
   \   000467   6023         JZ      ??MT_BuildEndpointDesc_10
    508                  {
    509                    osal_mem_free(epDesc->simpleDesc->pAppOutClusterList);
   \   000469                ; Setup parameters for call to function osal_mem_free
   \   000469   85..82       MOV     DPL,?V0 + 0
   \   00046C   85..83       MOV     DPH,?V0 + 1
   \   00046F   A3           INC     DPTR
   \   000470   A3           INC     DPTR
   \   000471   A3           INC     DPTR
   \   000472   E0           MOVX    A,@DPTR
   \   000473   F8           MOV     R0,A
   \   000474   A3           INC     DPTR
   \   000475   E0           MOVX    A,@DPTR
   \   000476   F583         MOV     DPH,A
   \   000478   8882         MOV     DPL,R0
   \   00047A   A3           INC     DPTR
   \   00047B   A3           INC     DPTR
   \   00047C   A3           INC     DPTR
   \   00047D   A3           INC     DPTR
   \   00047E   A3           INC     DPTR
   \   00047F   A3           INC     DPTR
   \   000480   A3           INC     DPTR
   \   000481   A3           INC     DPTR
   \   000482   A3           INC     DPTR
   \   000483   A3           INC     DPTR
   \   000484   E0           MOVX    A,@DPTR
   \   000485   FA           MOV     R2,A
   \   000486   A3           INC     DPTR
   \   000487   E0           MOVX    A,@DPTR
   \   000488   FB           MOV     R3,A
   \   000489   12....       LCALL   ??osal_mem_free?relay
    510                  }
    511          
    512                  osal_mem_free(epDesc->simpleDesc);
   \                     ??MT_BuildEndpointDesc_10:
   \   00048C                ; Setup parameters for call to function osal_mem_free
   \   00048C   85..82       MOV     DPL,?V0 + 0
   \   00048F   85..83       MOV     DPH,?V0 + 1
   \   000492   A3           INC     DPTR
   \   000493   A3           INC     DPTR
   \   000494   A3           INC     DPTR
   \   000495   E0           MOVX    A,@DPTR
   \   000496   FA           MOV     R2,A
   \   000497   A3           INC     DPTR
   \   000498   E0           MOVX    A,@DPTR
   \   000499   FB           MOV     R3,A
   \   00049A   12....       LCALL   ??osal_mem_free?relay
   \   00049D   8003         SJMP    ??MT_BuildEndpointDesc_1
    513                }
    514              }
    515              else
    516              {
    517                ret = ZMemError;
   \                     ??MT_BuildEndpointDesc_2:
   \   00049F   75..10       MOV     ?V0 + 2,#0x10
    518              }
    519            }
    520          
    521            return ret;
   \                     ??MT_BuildEndpointDesc_1:
   \   0004A2   A9..         MOV     R1,?V0 + 2
   \   0004A4   7F06         MOV     R7,#0x6
   \   0004A6   02....       LJMP    ?BANKED_LEAVE_XDATA
    522          }

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for mtProcessIncoming>`:
   \   000000   0000         DW 0H
   \   000002   ....         DW ??MT_SysCommandProcessing?relay
   \   000004   0000         DW 0H
   \   000006   0000         DW 0H
   \   000008   0000         DW 0H
   \   00000A   ....         DW ??MT_ZdoCommandProcessing?relay
   \   00000C   0000         DW 0H
   \   00000E   0000         DW 0H
   \   000010   0000         DW 0H
   \   000012   0000         DW 0H
   \   000014   0000         DW 0H

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_BuildSPIMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_BuildSPIMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_BuildAndSendZToolResponse?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_BuildAndSendZToolResponse

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_ProcessIncoming?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_ProcessIncoming

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MTProcessAppRspMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MTProcessAppRspMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_ReverseBytes?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_ReverseBytes

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_Word2Buf?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_Word2Buf

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_BuildEndpointDesc?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_BuildEndpointDesc
    523          #endif
    524          /***************************************************************************************************
    525          ***************************************************************************************************/

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     MTProcessAppRspMsg                 0      0      9
       -> MT_BuildAndSendZToolResponse
                                        0      0     18
     MT_BuildAndSendZToolResponse       0      0     27
       -> MT_TransportAlloc             0      0     32
       -> MT_BuildSPIMsg                0      0     36
       -> MT_TransportSend              0      0     32
     MT_BuildEndpointDesc               1      0     14
       -> afFindEndPointDesc            0      0     28
       -> osal_mem_alloc                0      0     28
       -> osal_mem_alloc                0      0     28
       -> osal_mem_alloc                0      0     28
       -> osal_mem_free                 0      0     28
       -> osal_mem_free                 0      0     28
       -> osal_mem_free                 0      0     28
     MT_BuildSPIMsg                     1      0     37
       -> osal_memcpy                   0      0     38
     MT_Init                            2      0      0
       -> MT_ZdoInit                    4      0      0
       -> MT_SysResetInd                4      0      0
     MT_ProcessIncoming                 3      0      3
       -> MT_BuildAndSendZToolResponse
                                        4      0      6
     MT_ReverseBytes                    1      0     10
     MT_Word2Buf                        1      0      9


   Segment part sizes:

     Function/Label                       Bytes
     --------------                       -----
     mtProcessIncoming                      22
     debugThreshold                          1
     debugCompId                             1
     MT_Init                                17
     MT_BuildSPIMsg                        128
     MT_BuildAndSendZToolResponse           72
     MT_ProcessIncoming                    223
     MTProcessAppRspMsg                     24
     MT_ReverseBytes                       102
     MT_Word2Buf                            82
     MT_BuildEndpointDesc                 1193
     ?<Initializer for mtProcessIncoming>   22
     ??MT_Init?relay                         6
     ??MT_BuildSPIMsg?relay                  6
     ??MT_BuildAndSendZToolResponse?relay    6
     ??MT_ProcessIncoming?relay              6
     ??MTProcessAppRspMsg?relay              6
     ??MT_ReverseBytes?relay                 6
     ??MT_Word2Buf?relay                     6
     ??MT_BuildEndpointDesc?relay            6

 
 1 841 bytes in segment BANKED_CODE
    48 bytes in segment BANK_RELAYS
    22 bytes in segment XDATA_I
    22 bytes in segment XDATA_ID
     2 bytes in segment XDATA_Z
 
 1 911 bytes of CODE  memory
    24 bytes of XDATA memory

Errors: none
Warnings: none
